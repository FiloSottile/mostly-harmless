
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Why Go is elegant and makes my code elegant | PyTux</title>
  <meta name="author" content="Filippo Valsorda">

  
  <meta name="description" content="This is a enthusiast blog post. I’m not even gonna speak about how concurrency comes easy with Go. Honestly, I’m not good enough to speak about it. I &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="https://filippo.io/why-go-is-elegant-and-makes-my-code-elegant/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="PyTux" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

<!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  jax: ["input/TeX", "output/HTML-CSS"],
  tex2jax: {
    inlineMath: [ ['$', '$'] ],
    displayMath: [ ['$$', '$$']],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  messageStyle: "none",
  "HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] }
});
</script>
<script src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37225193-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">PyTux</a></h1>
  
    <h2>Trips of a curious penguin.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:filippo.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/archives">Archives</a></li>
  <li><a href="/links">Links</a></li>
  <li><a href="/CV">CV</a></li>
  <li><a href="https://github.com/FiloSottile">GitHub</a></li>
</ul>

</nav>

<nav role="navigation">

<ul class="main-navigation"><li><a><strong>Projects</strong></a></li>
    <li><a href="https://github.com/rg3/youtube-dl">youtube-dl</a></li>
    <li><a href="https://filippo.io/Biglumber-map/">Biglumber map</a></li>
    <li><a href="https://apps.facebook.com/coverflipper/">Cover flipper</a></li>
    <li><a href="https://traviscron.pythonanywhere.com/">Travis cron trigger</a></li>
    <li><a href="https://ruzzlemap.it/">Ruzzle map</a></li>
    <li><a href="https://www.recapthelaw.org/">RECAP</a></li>
    <li><a href="/linux-syscall-table">Syscall table</a></li>
    <li><a href="https://twitter.com/HNTitles">HN Titles</a></li>
</ul>


</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      
        <h1 class="entry-title">Why Go is elegant and makes my code elegant</h1>
      
    
    
      <p class="meta">
        








  



<time datetime="2014-03-26T18:16:00+01:00" pubdate data-updated="true" class="updated">Mar 26<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This is a enthusiast blog post. I’m not even gonna speak about how concurrency comes easy with Go. Honestly, I’m not good enough to speak about it. I’ll just speak about how using Go in my everyday programming makes me happy.</p>

<p>Go has elegance, good tools and has had the possibility to start designing from scratch.</p>

<p>The following should not be a list but a tree, since good design decisions enable other good design decision. But I’ll go over them as they come to my mind.</p>

<h3 id="every-package-has-a-unique-name-in-the-universe">Every package has a unique name in the universe</h3>
<p>If you write a package, it will have a name. A unique one. In all the universe. Like, <code>github.com/FiloSottile/TripleSec</code> or <code>filippo.io/foobar</code>.</p>

<p>This is <strong>awesome</strong>. First and most obviously, <code>import</code> statements are sure, clear things. You import packages by their full name and you know what you are importing. No need for <code>bundler</code> or <code>requirements.txt</code>.</p>

<p>Second, you can keep a tree of the packages you use or develop on your disk, and it remains tidy by itself. You just put them in <code>$GOPATH/THEIR/FULL/NAME</code> and both you and the toolkit always know where they are.</p>

<p>Finally, most of the times the name will tell you <em>and your toolkit</em> where to get that package. If the package name starts with <em>bitbucket.com</em>, <em>github.com</em> or <em>code.google.com</em> then you just need to run <code>go get NAME</code> and it will get downloaded for you. Automatically.</p>

<!-- more -->

<h3 id="godoc">GoDoc</h3>

<p>Go has a <a href="http://blog.golang.org/godoc-documenting-go-code">clear, easy, multi-output documentation style</a>. You just write comments and there’s a tool that will write txt, man pages and HTML for you.</p>

<p>Mix this and the above and you get <a href="http://godoc.org">godoc.org</a>. The site will index all the packages it can crawl, generate docs for them and provide them to you at <em>http://godoc.org/PACKAGE_NAME</em>. All of the docs, in the same place, automatically. <strong>You literally just have to write comments and push and it’s like you registered the package on PyPi, generated the docs and uploaded them</strong>.</p>

<h3 id="compiling-and-static-binaries--with-easy-cross-compiling">Compiling and static binaries (+ with easy cross-compiling)</h3>

<p>Go is compiled. This has a number of advantages, first being all the errors that can be detected by the compiler, and speed. But usually there’s a tradeoff: Makefiles get messy, dynamic libraries requirements on the target machines.</p>

<p>Go solves all these: there are no Makefiles at all (or requirements.txt or metadata whatsoever), just imports and at most build inclusion/exclusion statements at top of the file; the binaries are static.</p>

<p>You just compile a binary with the libraries you have on your system (see point 1) and ship it to the machine that runs it. No dependencies. No interpreter versions.</p>

<p>Or if you just want to solve that Project Euler problem, <code>go run solution.go</code>. I don’t miss Python anymore.</p>

<p>And by mixing good design, good tools and good community, you get <a href="https://github.com/laher/goxc">cross-compilation for free</a>.</p>

<h3 id="static-types-that-i-have-to-type-only-once">Static types, that I have to type only once</h3>

<p>Static types are good, if they don’t slow me down. Go simply figured out that you just have to define them for functions parameters and return values. Think about it, (almost) all variables are parameters, receive a return value from a function or are defined as an explicit value.</p>

<p>When I happen to explicitly define a type, I’m probably doing something complex enough that static types are only gonna be helpful anyway.</p>

<h3 id="a-unique-documented-style">A unique, documented style</h3>

<p>Go code has an official style. It’s part of the language. It’s documented. And patterns are made explicit in the <a href="http://blog.golang.org/">blog posts</a>, that are committed to the same repositories as the Go tools.</p>

<p>And also here there’s an awesome tool. <code>go fmt</code> will take your source code and format it according to the style. No more “personal preferences” and discussions.</p>

<p>This makes reading Go code easier, whoever wrote it and whatever the project.</p>

<!-- As Linus Torvalds put it in the kernel [`CodingStyle`][codingstyle]: -->

<h3 id="pleasant-conventions">Pleasant conventions</h3>

<p>Go has some conventions that affect the behavior of your programs. These are easy and natural, and simplify the language without adding confusion.</p>

<ul>
  <li>Anything that starts with an upper case letter is exported. Everything else is not.</li>
  <li>If you have tests and benchmarks (you better have them, Go makes it so easy to write them), you put them in <code>*_test.go</code>.</li>
  <li>You write some Assembly, just put it in a file named like <code>*_amd64.s</code></li>
</ul>

<h3 id="control-flow-is-explicit-and-in-your-hands">Control flow is explicit and in your hands</h3>

<p>There are no exceptions that can traverse your code up to who knows where. Functions return a error, you handle it, or just return it.</p>

<p>Tests follow the same philosophy: you explicitly check for errors or expected states and <code>.Fail</code> the test if you want.</p>

<h3 id="even-if-its-young-it-has-a-decent-library">Even if it’s young it has a decent library</h3>

<p>I wrote <a href="https://github.com/FiloSottile/TripleSec/">Golang TripleSec</a> using only standard and <code>go.crypto</code> libraries. And they are fast and pretty. (Ok, I’m cheating, there’s Adam writing Go crypto libs, but also the rest is good!)</p>

<p>Also, thanks to point 1, it’s seamless to use external libraries, obviously.</p>

<h3 id="theres-no-pointer-arithmetics-but-no-flexibility-is-lost">There’s no pointer arithmetics but no flexibility is lost</h3>

<p>Go has no low-level memory arithmetics, but pointers, <code>&amp;</code> and <code>*</code> are still there for your usual pass-by-pointer needs. This alone kills a lot of complexity and potential bugs.</p>

<p>However flexible array pointers are still there, on disguise: they are called <strong>slices</strong>, actually just a struct of a pointer, a own length and a length of the underlying allocated memory (<em>capacity</em>). The built-in length means that APIs don’t need to explicitly pass it around and built-in capacity means no more silent overflows and segfaults. A bunch of built-ins come bundled to seamlessly handle length, capacity, copying and reallocation.</p>

<p>It’s how C arrays should have always worked if performance wasn’t prioritized over simplicity, security… everything, actually.</p>

<h3 id="it-made-the-heartbleed-checker-possible">It made the Heartbleed checker possible</h3>

<p>A new one: thanks to the crypto/tls library I wrote <a href="http://filippo.io/Heartbleed/">the Heartbleed checker</a> in one hour, plus a couple for the web side (but I’m just a bad web developer).</p>

<p>Then rewriting the backed entirely in Go allowed me to scale to 12,000 requests a minute over 40 machines, each of them requiring me to open a HTTPS connection and potentially wait some seconds.</p>

<hr />

<p>So, this is a quick recap of what I loved about programming in Go. I probably missed something and will be adding things over time.</p>

<p>If you want to share your opinion on Go, I’m <a href="https://twitter.com/FiloSottile">@FiloSottile</a> on Twitter. And if you’ve never tried Go, give it a shot! It’s not only about concurrency!</p>
</div>

  


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Filippo Valsorda</span></span>

      








  



<time datetime="2014-03-26T18:16:00+01:00" pubdate data-updated="true" class="updated">Mar 26<span>th</span>, 2014</time>
      

<span class="categories">
  
    <a class='category' href='/categories/golang/'>Golang</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="https://filippo.io/why-go-is-elegant-and-makes-my-code-elegant/" data-via="FiloSottile" data-counturl="https://filippo.io/why-go-is-elegant-and-makes-my-code-elegant/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
  
  <a href="http://news.ycombinator.com/submit" class="hn-share-button">Vote on HN</a>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/my-remote-shell-session-setup/" title="Previous Post: My remote shell session setup">&laquo; My remote shell session setup</a>
      
      
        <a class="basic-alignment right" href="/on-keybase-dot-io-and-encrypted-private-key-sharing/" title="Next Post: On Keybase.io and encrypted private key uploading">On Keybase.io and encrypted private key uploading &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section class="aboutme">
  <h1>About Me</h1>
  <p>I am <span class="name">Filippo Valsorda</span> (<a href="https://twitter.com/FiloSottile">@FiloSottile</a>) an Italian consultant specialized in cryptography and security with a passion for Python, Go and maths.
  	I am one of the guys currently behind <a href="https://github.com/rg3/youtube-dl">youtube-dl</a> and I attended <a href="http://hackerschool.com">Hacker School</a> in NYC. Now I'm in Milan.</p>

  <p><span style="cursor: pointer" onclick="this.textContent = ('hi' + '@filippo' + String.fromCharCode(46) + 'io'); this.onclick = null; this.style.cursor='default'">Click here to reveal my email.</span></p>

  <img src="//projecteuler.net/profile/FiloSottile.png">

  <p style="display:none"><a href="https://plus.google.com/u/0/+FilippoValsorda/?rel=author">Google+</a></p>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/on-keybase-dot-io-and-encrypted-private-key-sharing/">On Keybase.io and encrypted private key uploading</a>
      </li>
    
      <li class="post">
        <a href="/why-go-is-elegant-and-makes-my-code-elegant/">Why Go is elegant and makes my code elegant</a>
      </li>
    
      <li class="post">
        <a href="/my-remote-shell-session-setup/">My remote shell session setup</a>
      </li>
    
      <li class="post">
        <a href="/native-scrolling-and-iterm2/">Native scrolling and iTerm2</a>
      </li>
    
      <li class="post">
        <a href="/scraping-a-video-out-of-a-more-stubborn-site/">Scraping the hell out of a more stubborn site</a>
      </li>
    
  </ul>
</section>

<section class="coderwall">
  <h1>Coderwall<a href="https://coderwall.com/filosottile"><img alt="Endorse"
  src="//api.coderwall.com/filosottile/endorsecount.png" /></a></h1>
  <ul id="cw_badges">
    <li class="loading">Status updating...</li>
  </ul>

  <script type="text/javascript">
    var coderwall = (function(){
      function render(options, badges){
        var fragment = '',
            t = $(options.target),
            height = 65,
            width = 65,
            index;

        for (index in badges) {
          fragment += '<a class="cw_badge"title="' + badges[index].description + '" href="http://coderwall.com/' + options.user + '">';
          fragment +=   '<img alt="' + badges[index].description + '" height="' + width + '" width="' + height + '" src="' + badges[index].badge + '"/>';
          fragment += '</a>';
        }

        t.html(fragment);
      }
      return {
        showBadges: function(options){
          $.ajax({
              url: 'https://coderwall.com/' + options.user + '.json?callback=call19543'
            , type: 'jsonp'
            , jsonpCallback: 'callback'
            , jsonpCallbackName: 'call19543'
            , error: function (err) { $(options.target + ' li.loading').addClass('error').text("Error loading feed"); }
            , success: function(res) {
                render(options, res.data.badges);
            }
          });
        }
      };
    })();

    $(document).ready(function(){
      coderwall.showBadges({
        user: 'FiloSottile',
        target: '#cw_badges'
      });
    });
  </script>
  <style type="text/css">
    .cw_badge img {
      padding: 5px;
      border: 0 none !important;
      -moz-box-shadow: none !important;
      -webkit-box-shadow: none !important;
      -o-box-shadow: none !important;
      box-shadow: none !important;
    }
  </style>
</section>


<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/FiloSottile">@FiloSottile</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'FiloSottile',
            count: 5,
            skip_forks: false,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets" class="reset-zoom">
    <a class="twitter-timeline" data-dnt="true" href="https://twitter.com/FiloSottile"  data-widget-id="369235929669435393"  data-link-color="#1863a1" data-tweet-limit="4" data-chrome="noheader nofooter transparent noscrollbar">Tweets by @FiloSottile</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
  </ul>
  
    <p>Follow <a href="http://twitter.com/FiloSottile">@FiloSottile</a></p>
  
</section>


<section>
  <h1>My Pinboard</h1>
  <ul id="pinboard_linkroll">Fetching linkroll...</ul>
  <p><a href="http://pinboard.in/u:FiloSottile">My Pinboard Bookmarks &raquo;</a></p>
</section>
<script type="text/javascript">
  var linkroll = 'pinboard_linkroll'; //id target for pinboard list
  var pinboard_user = "FiloSottile"; //id target for pinboard list
  var pinboard_count = 3; //id target for pinboard list
  (function(){
    var pinboardInit = document.createElement('script');
    pinboardInit.type = 'text/javascript';
    pinboardInit.async = true;
    pinboardInit.src = '/javascripts/pinboard.js';
    document.getElementsByTagName('head')[0].appendChild(pinboardInit);
  })();
</script>


  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Filippo Valsorda -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'pytux';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'https://filippo.io/why-go-is-elegant-and-makes-my-code-elegant/';
        var disqus_url = 'https://filippo.io/why-go-is-elegant-and-makes-my-code-elegant/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




<!-- (MIT License) - Copyright (c) 2012 Ilya Grigorik -->
<script>
    (function(d, t) {
        var g = d.createElement(t),
            s = d.getElementsByTagName(t)[0];
        g.src = '//hnbutton.appspot.com/static/hn.min.js';
        s.parentNode.insertBefore(g, s);
    }(document, 'script'));
</script>



</body>
</html>
